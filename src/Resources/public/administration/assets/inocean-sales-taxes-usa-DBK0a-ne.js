const s=`{% block sw_order_line_items_grid_grid_columns_tax_inline_edit %}{% endblock %} {% block sw_order_line_items_grid_grid_columns_tax_content_tooltip %}{% endblock %} {% block sw_order_line_items_grid_grid_columns_tax_content %} <span v-if="item.price && item.price.taxRules.length && lineItemTaxesMap[item.id]" class="inocean-order-line-items-wrapper"> <template v-for="(calculatedTax, index) in lineItemTaxesMap[item.id]" :key="index"> <span class="inocean-order-line-items-taxes"> {{ $tc('salesTaxUsa.order.summary.tax' + calculatedTax.taxName, { taxRate: calculatedTax.taxRate }, 1) }} {{ currencyFilter(calculatedTax.taxPrice, order.currency.isoCode, order.totalRounding.decimals) }} </span> </template> </span> {% endblock %}`,{Component:n}=Shopware;n.override("sw-order-line-items-grid",{template:s,computed:{getLineItemColumns(){return this.$super("getLineItemColumns").map(r=>r.property==="price.taxRules[0]"?{...r,label:"salesTaxUsa.order.lineItem.tax",allowResize:!1,align:"right",inlineEdit:!1,width:"110px"}:r)},lineItemTaxesMap(){if(!this.order||!this.order.lineItems)return{};const a={};return this.order.lineItems.forEach(r=>{var e;a[r.id]=Array.isArray((e=r.payload)==null?void 0:e.inoceanUsaTaxInfo)?r.payload.inoceanUsaTaxInfo.map(t=>({taxName:t.name,taxRate:t.rate,taxPrice:Number(t.tax)||0})):[]}),a},lineItemsTaxes(){return Object.entries(this.lineItemTaxesMap).map(([a,r])=>({id:a,taxes:r}))}}});const o=`{% block sw_order_detail_general_line_items_summary_amount_without_tax %} <template v-if="taxStatus !== 'tax-free'"> <dt><strong>{{ $tc('salesTaxUsa.order.summary.subtotal') }}</strong></dt> <dd><strong>{{ currencyFilter(order.amountNet, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> </template> {% endblock %} {% block sw_order_detail_general_line_items_summary_taxes %} <template v-if="taxStatus !== 'tax-free'"> <template v-for="(calculatedTax, index) in sortedCalculatedTaxes" :key="index" > <dt> {{ $tc('salesTaxUsa.order.summary.tax' + calculatedTax.taxDetails.name, { taxRate: calculatedTax.taxDetails.rate }, 1) }} </dt> <dd> {{ currencyFilter(calculatedTax.taxDetails.tax, currency.isoCode, order.totalRounding.decimals) }} </dd> </template> <template v-for="(shippingTax, index) in sortedShippingTaxes" :key="index" > <dt> {{ $tc('salesTaxUsa.order.summary.shippingTax' + shippingTax.taxDetails.name, { taxRate: shippingTax.taxDetails.rate }, 1) }} </dt> <dd> {{ currencyFilter(shippingTax.taxDetails.tax, currency.isoCode, order.totalRounding.decimals) }} </dd> </template> </template> {% endblock %} {% block sw_order_detail_general_line_items_summary_amount_total %} <template v-if="taxStatus !== 'tax-free'"> <dt><strong>{{ $tc('salesTaxUsa.order.summary.groundTotal') }}</strong></dt> <dd><strong>{{ currencyFilter(orderTotal, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> <template v-if="displayRounded"> <dt><strong>{{ $tc('salesTaxUsa.order.summary.totalRounded') }}</strong></dt> <dd><strong>{{ currencyFilter(order.price.totalPrice, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> </template> </template> {% endblock %}`,{Component:d}=Shopware;d.override("sw-order-detail-general",{template:o,computed:{taxStatus(){return this.order.price.taxStatus},sortedCalculatedTaxes(){if(!this.order||!this.order.lineItems)return[];const a={};return this.order.lineItems.forEach(e=>{e.payload&&Array.isArray(e.payload.inoceanUsaTaxInfo)&&e.payload.inoceanUsaTaxInfo.forEach(t=>{const i=t.name;a[i]||(a[i]={taxName:t.name,taxRate:t.rate,taxPriceTotal:0}),a[i].taxPriceTotal+=Number(t.tax)||0})}),Object.values(a).map(e=>({taxDetails:{name:e.taxName,rate:e.taxRate,tax:e.taxPriceTotal}}))},sortedShippingTaxes(){if(!this.order||!this.order.lineItems)return[];const a={};return this.order.lineItems.forEach(e=>{e.payload&&Array.isArray(e.payload.inoceanShippingTaxInfo)&&e.payload.inoceanShippingTaxInfo.forEach(t=>{const i=t.name;a[i]||(a[i]={taxName:t.name,taxRate:t.rate,taxPriceTotal:0}),a[i].taxPriceTotal+=Number(t.tax)||0})}),Object.values(a).map(e=>({taxDetails:{name:e.taxName,rate:e.taxRate,tax:e.taxPriceTotal}}))}}});
//# sourceMappingURL=inocean-sales-taxes-usa-DBK0a-ne.js.map
