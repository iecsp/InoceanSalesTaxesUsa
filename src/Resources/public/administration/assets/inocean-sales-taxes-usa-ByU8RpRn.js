const l=`{% block sw_order_line_items_grid_grid_columns_tax_inline_edit %}{% endblock %} {% block sw_order_line_items_grid_grid_columns_tax_content_tooltip %}{% endblock %} {% block sw_order_line_items_grid_grid_columns_tax_content %} <span v-if="item.price && item.price.taxRules.length && lineItemTaxesMap[item.id]"> <template v-for="(calculatedTax, index) in lineItemTaxesMap[item.id]" :key="index"> <span class="sw-order-line-items-grid__item_taxes"> {{ $tc('salseTaxUsa.order.summary.tax' + calculatedTax.taxName, { taxRate: calculatedTax.taxRate }, 1) }} {{ currencyFilter(calculatedTax.taxPrice, order.currency.isoCode, order.totalRounding.decimals) }} </span> </template> </span> {% endblock %}`,{Component:s}=Shopware;s.override("sw-order-line-items-grid",{template:l,computed:{getLineItemColumns(){const a=[{property:"quantity",dataIndex:"quantity",label:"sw-order.detailBase.columnQuantity",allowResize:!1,align:"right",inlineEdit:!0,width:"90px"},{property:"label",dataIndex:"label",label:"sw-order.detailBase.columnProductName",allowResize:!1,primary:!0,inlineEdit:!0,multiLine:!0},{property:"payload.productNumber",dataIndex:"payload.productNumber",label:"sw-order.detailBase.columnProductNumber",allowResize:!1,align:"left",visible:!1},{property:"unitPrice",dataIndex:"unitPrice",label:this.unitPriceLabel,allowResize:!1,align:"right",inlineEdit:!0,width:"120px"}];return this.taxStatus!=="tax-free"&&a.push({property:"price.taxRules[0]",label:"salseTaxUsa.order.lineItem.tax",allowResize:!1,align:"right",inlineEdit:!1,width:"110px"}),[...a,{property:"totalPrice",dataIndex:"totalPrice",label:this.taxStatus==="gross"?"sw-order.detailBase.columnTotalPriceGross":"sw-order.detailBase.columnTotalPriceNet",allowResize:!1,align:"right",width:"120px"}]},lineItemTaxesMap(){if(!this.order||!this.order.lineItems)return{};const a={};return this.order.lineItems.forEach(r=>{var e;a[r.id]=Array.isArray((e=r.payload)==null?void 0:e.inoceanUsaTaxInfo)?r.payload.inoceanUsaTaxInfo.map(t=>({taxName:t.name,taxRate:t.rate,taxPrice:Number(t.tax)||0})):[]}),a},lineItemsTaxes(){return Object.entries(this.lineItemTaxesMap).map(([a,r])=>({id:a,taxes:r}))}}});const o=`{% block sw_order_detail_general_line_items_summary_amount_without_tax %} <template v-if="taxStatus !== 'tax-free'"> <dt><strong>{{ $tc('salseTaxUsa.order.summary.subtotal') }}</strong></dt> <dd><strong>{{ currencyFilter(order.amountNet, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> </template> {% endblock %} {% block sw_order_detail_general_line_items_summary_taxes %} <template v-if="taxStatus !== 'tax-free'"> <template v-for="(calculatedTax, index) in sortedCalculatedTaxes" :key="index" > <dt> {{ $tc('salseTaxUsa.order.summary.tax' + calculatedTax.taxDetails.name, { taxRate: calculatedTax.taxDetails.rate }, 1) }} </dt> <dd> {{ currencyFilter(calculatedTax.taxDetails.tax, currency.isoCode, order.totalRounding.decimals) }} </dd> </template> <template v-for="(shippingTax, index) in sortedShippingTaxes" :key="index" > <dt> {{ $tc('salseTaxUsa.order.summary.shippingTax' + shippingTax.taxDetails.name, { taxRate: shippingTax.taxDetails.rate }, 1) }} </dt> <dd> {{ currencyFilter(shippingTax.taxDetails.tax, currency.isoCode, order.totalRounding.decimals) }} </dd> </template> </template> {% endblock %} {% block sw_order_detail_general_line_items_summary_amount_total %} <template v-if="taxStatus !== 'tax-free'"> <dt><strong>{{ $tc('salseTaxUsa.order.summary.groundTotal') }}</strong></dt> <dd><strong>{{ currencyFilter(orderTotal, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> <template v-if="displayRounded"> <dt><strong>{{ $tc('salseTaxUsa.order.summary.totalRounded') }}</strong></dt> <dd><strong>{{ currencyFilter(order.price.totalPrice, currency.isoCode, order.totalRounding.decimals) }}</strong></dd> </template> </template> {% endblock %}`,{Component:n}=Shopware;n.override("sw-order-detail-general",{template:o,computed:{taxStatus(){return this.order.price.taxStatus},sortedCalculatedTaxes(){if(!this.order||!this.order.lineItems)return[];const a={};return this.order.lineItems.forEach(e=>{e.payload&&Array.isArray(e.payload.inoceanUsaTaxInfo)&&e.payload.inoceanUsaTaxInfo.forEach(t=>{const i=t.name;a[i]||(a[i]={taxName:t.name,taxRate:t.rate,taxPriceTotal:0}),a[i].taxPriceTotal+=Number(t.tax)||0})}),Object.values(a).map(e=>({taxDetails:{name:e.taxName,rate:e.taxRate,tax:e.taxPriceTotal}}))},sortedShippingTaxes(){if(!this.order||!this.order.lineItems)return[];const a={};return this.order.lineItems.forEach(e=>{e.payload&&Array.isArray(e.payload.inoceanShippingTaxInfo)&&e.payload.inoceanShippingTaxInfo.forEach(t=>{const i=t.name;a[i]||(a[i]={taxName:t.name,taxRate:t.rate,taxPriceTotal:0}),a[i].taxPriceTotal+=Number(t.tax)||0})}),Object.values(a).map(e=>({taxDetails:{name:e.taxName,rate:e.taxRate,tax:e.taxPriceTotal}}))}}});
//# sourceMappingURL=inocean-sales-taxes-usa-ByU8RpRn.js.map
