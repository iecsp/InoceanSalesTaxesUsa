{% sw_extends '@Storefront/storefront/page/checkout/summary/summary-tax.html.twig' %}

{% block component_checkout_summary_tax_item %}
    {#
      Iterate over each tax individually. Do not group them by tax rate.
      This is required for US taxes where multiple taxes can have the same rate but must be displayed separately.
      The `context.cart.price.calculatedTaxes` is expected to be an instance of UsaCalculatedTaxCollection,
      which preserves all individual tax items.
    #}
    {% for tax in context.cart.price.calculatedTaxes %}
        {% block page_checkout_summary_tax %}
            {% block page_checkout_summary_tax_label %}
                <dt class="col-7 checkout-aside-summary-label summary-tax">
                    {{ ('salseTaxUsa.checkout.summary.taxName' ~ loop.index)|trans }} {{ tax.taxRate }}
                </dt>
            {% endblock %}
            {% block page_checkout_summary_tax_value %}
            <dd class="col-5 checkout-aside-summary-value summary-tax">
                {{ tax.tax|currency }}
            </dd>
            {% endblock %}
        {% endblock %}
    {% endfor %}
{% endblock %}
